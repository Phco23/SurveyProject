@model IEnumerable<SurveyProject.Models.ViewModels.SurveyViewModel>

<div class="container mt-4">
    @if (!Model.Any())
    {
        <p class="text-center text-muted">No surveys are currently available.</p>
    }
    else
    {
        <!-- Header -->
        <app-quickpoll-header-nav-tabs class="container py-4">
            <!-- Header Title -->
            <div class="mb-4">
                <h2 class="page-title text-primary fw-bold">Surveys</h2>
                <p class="page-title-subtitle text-muted">
                    Participate, leave a comment in Survey!
                </p>
            </div>

            <!-- Navigation Tabs -->
            <div class="events-nav">
                <ul class="nav nav-tabs ">
                    <li class="nav-item">
                        <a asp-controller="Survey" asp-action="ListSurvey" class="nav-link active">
                            <i class="bi bi-clipboard-check"></i> Active Surveys
                        </a>
                    </li>
                    <li class="nav-item">
                        <a asp-controller="Survey" asp-action="ExpiredSurvey" class="nav-link">
                            <i class="bi bi-clipboard-x"></i> Expired Surveys
                        </a>
                    </li>
                </ul>
            </div>
        </app-quickpoll-header-nav-tabs>


        <!-- Active Surveys --> 
        <div class="container-xxl py-5">
            <div class="container">
                @* <div class="text-center mb-5">
                    <h2 class="section-title bg-white text-primary px-3">Active Surveys</h2>
                </div> *@
                <div class="row g-4">
                    @foreach (var survey in Model.Where(s => s.IsActive && s.ExpiredDate >= DateTime.UtcNow))
                    {
                        <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                            <div class="card border-0 shadow-sm">
                                <img class="img-fluid" src="/img/E_0.webp" alt="image_Survey" loading="lazy" style="margin: 10px 10px 10px 10px;">
                                <div class="card-body" style="background-color: #F9F9F9; margin: 10px 10px 10px 10px;">
                                    <h5 class="card-title">@survey.Title</h5>
                                    <div class="d-flex justify-content-between px-4">
                                        <div class="left text-start">
                                            <p class="mb-2">Questions</p>
                                            <p class="mb-2">Time</p>
                                            <p class="mb-2">Status</p>
                                        </div>
                                        <div class="right text-end">
                                            <p class="mb-2">12</p>
                                            <p class="mb-2">5 minutes</p>
                                            <p class="mb-2" style="color: #28a745;">Active</p>
                                        </div>
                                    </div>
                                    <a asp-action="SurveyDetails" asp-route-id="@survey.SurveyId" class="btn btn-primary" style="width: 100%; border-radius: 10px;">Participate Now</a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
        <!-- Active Surveys End --> 
    }
</div>
<!-- Feedback Start -->
<div class="container-xxl py-5 category">
    <div class="container">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h1 class="section-title bg-white text-center text-primary px-3">Submit Your Feedback</h1>
        </div>
        <section class="mt-5">
            <form>
                <div class="mb-3">
                    <label for="survey" class="form-label">Select Survey:</label>
                    <select id="survey" name="survey" class="form-select">
                        <option value="customer_satisfaction">Customer Satisfaction Survey</option>
                        <option value="reading_habits">Reading Habits Survey</option>
                        <option value="technology_trends">Technology Trends Survey</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="feedback" class="form-label">Feedback:</label> 
                    <textarea 
                        id="feedback" 
                        name="feedback" 
                        class="form-control" 
                        rows="5" 
                        placeholder="Enter your feedback">
                    </textarea>
                </div>
                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary">Submit Feedback</button>
            </form>
        </section>
    </div>
</div>
<!-- Feedback End -->
